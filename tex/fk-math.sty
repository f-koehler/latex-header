\NeedsTeXFormat{LaTeX2e}[2015/10/01]
\ProvidesPackage{fk-math}

\RequirePackage{xparse}
\ExplSyntaxOn{}

% packages from the AMS
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}

% use unicode in math typesetting
\RequirePackage[
  bold-style=ISO,
  math-style=ISO,
  nabla=upright,
  partial=upright,
  sans-style=italic,
]{unicode-math}

% norm and abs
\DeclareDocumentCommand\abs{m}{{\left|{#1}\right|}}
\DeclareDocumentCommand\norm{m}{{\left\Vert{#1}\right\Vert}}

% decorators for scalars, vectors, matrices
\DeclareDocumentCommand\trans{m}{{#1}^{\mathsf{T}}}
\DeclareDocumentCommand\conj{m}{{#1}^*}
\DeclareDocumentCommand\herm{m}{{#1}^{\mathsf{H}}}
\DeclareDocumentCommand\daggered{m}{{#1}^\dagger}
\DeclareDocumentCommand\inv{m}{{#1}^{-1}}

% declare commands for vectors and matrices
\AtBeginDocument{%
  \DeclareDocumentCommand\mat{m}{{\mathbfit{#1}}}
  \DeclareDocumentCommand\Vec{m}{{\mathbfit{#1}}}
}

% decorated versions of matrices
\DeclareDocumentCommand\matTrans{m}{\trans{\mat{#1}}}
\DeclareDocumentCommand\matConj{m}{\conj{\mat{#1}}}
\DeclareDocumentCommand\matHerm{m}{\herm{\mat{#1}}}
\DeclareDocumentCommand\matDaggered{m}{\daggered{\mat{#1}}}
\DeclareDocumentCommand\matInv{m}{\inv{\mat{#1}}}

% some matrix operations
\DeclareDocumentCommand\Tr{}{\operatorname{Tr}}
\DeclareDocumentCommand\det{}{\operatorname{det}}
\DeclareDocumentCommand\diag{}{\operatorname{diag}}
\DeclareDocumentCommand\ker{}{\operatorname{ker}}

% decorated versions of vectors
\DeclareDocumentCommand\vecTrans{m}{\trans{\vec{#1}}}
\DeclareDocumentCommand\vecConj{m}{\conj{\vec{#1}}}
\DeclareDocumentCommand\vecHerm{m}{\herm{\vec{#1}}}
\DeclareDocumentCommand\vecDaggered{m}{\daggered{\vec{#1}}}

% complex numbers
\AtBeginDocument{%
  \DeclareDocumentCommand\Re{}{\operatorname{Re}}
  \DeclareDocumentCommand\Im{}{\operatorname{Im}}
}
\DeclareDocumentCommand\iu{}{\mathcal{i}}

% scalar product
\DeclareDocumentCommand\innerProd{mm}{{\langle{\,{#1},{#2}}\rangle}}
\DeclareDocumentCommand\innerProdB{mm}{{\left({\,{#1}|{#2}}\right)}}

% differentials
\DeclareDocumentCommand\diff{o}{\IfNoValueTF{#1}{\symup{d}}{\symup{d}^{#1}}}

% special functions
\DeclareDocumentCommand\heaviside{}{{\symup{\Theta}}}
\DeclareDocumentCommand\kronecker{}{{\symup{\delta}}}

% trigonometric and hyperbolic functions
\DeclareDocumentCommand\cos{}{\operatorname{cos}}
\DeclareDocumentCommand\sin{}{\operatorname{sin}}
\DeclareDocumentCommand\tan{}{\operatorname{tan}}
\DeclareDocumentCommand\cot{}{\operatorname{cot}}
\DeclareDocumentCommand\csc{}{\operatorname{csc}}
\DeclareDocumentCommand\sec{}{\operatorname{sec}}
\DeclareDocumentCommand\arccos{}{\operatorname{arccos}}
\DeclareDocumentCommand\arcsin{}{\operatorname{arcsin}}
\DeclareDocumentCommand\arctan{}{\operatorname{arctan}}
\DeclareDocumentCommand\arccot{}{\operatorname{arccot}}
\DeclareDocumentCommand\arccsc{}{\operatorname{arccsc}}
\DeclareDocumentCommand\arcsec{}{\operatorname{arcsec}}
\DeclareDocumentCommand\cosh{}{\operatorname{cosh}}
\DeclareDocumentCommand\sinh{}{\operatorname{sinh}}
\DeclareDocumentCommand\tanh{}{\operatorname{tanh}}
\DeclareDocumentCommand\coth{}{\operatorname{coth}}
\DeclareDocumentCommand\csch{}{\operatorname{csch}}
\DeclareDocumentCommand\sech{}{\operatorname{sech}}
\DeclareDocumentCommand\arcosh{}{\operatorname{arcosh}}
\DeclareDocumentCommand\arsinh{}{\operatorname{arsinh}}
\DeclareDocumentCommand\artanh{}{\operatorname{artanh}}
\DeclareDocumentCommand\arcoth{}{\operatorname{arcoth}}
\DeclareDocumentCommand\arcsch{}{\operatorname{arcsch}}
\DeclareDocumentCommand\arsech{}{\operatorname{arsech}}
\DeclareDocumentCommand\sinc{}{\operatorname{sinc}}

% minimum, maximum, supremum, infimum
\let\min\relax
\let\max\relax
\let\inf\relax
\let\sup\relax
\DeclareMathOperator*{\min}{min}
\DeclareMathOperator*{\max}{max}
\DeclareMathOperator*{\inf}{inf}
\DeclareMathOperator*{\sup}{sup}

% group theory
\DeclareDocumentCommand\group{m}{{\text{#1}}}

\ExplSyntaxOff{}
